/* --- 기본 레이아웃 (기존 유지) --- */
.chatContainer {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding-bottom: 20px;
  width: 100%;
}

.messageRow {
  display: flex;
  width: 100%;
  align-items: flex-start;
}

.myRow { justify-content: flex-end; }
.aiRow { justify-content: flex-start; }

/* --- 말풍선 스타일 개선 --- */
.bubble {
  max-width: 75%; /* 조금 더 넓게 */
  padding: 20px 24px; /* 내부 여백을 늘려서 시원하게 */
  border-radius: 20px;
  font-size: 1rem;
  line-height: 1.7; /* 줄간격을 늘려서 읽기 편하게 */
  word-break: break-word;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08); /* 그림자 부드럽게 */
  text-align: left;
}

/* 내 메시지 스타일 */
.myRow .bubble {
  background-color: #1a73e8;
  color: white;
  border-top-right-radius: 4px;
}

/* AI 메시지 스타일 (리포트 느낌) */
.aiRow .bubble {
  background-color: #ffffff; /* 흰색 배경으로 변경 (리포트 느낌 강화) */
  color: #333;
  border: 1px solid #e0e0e0; /* 테두리 추가 */
  border-top-left-radius: 4px;
}

/* 모바일 대응 */
@media (max-width: 768px) {
  .bubble { max-width: 90%; padding: 16px; }
}

.aiIcon {
  width: 38px;
  height: 38px;
  background-color: #f1f3f4;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 12px;
  font-size: 1.3rem;
  flex-shrink: 0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

/* =========================================
   ★ 마크다운 내부 디자인 (여기가 핵심!) 
   ========================================= */

.markdownContent {
  font-size: 0.95rem;
  color: #2c3e50;
}

/* 1. 제목 스타일 (## 제목) */
.markdownContent h1, 
.markdownContent h2, 
.markdownContent h3 {
  margin-top: 24px;
  margin-bottom: 12px;
  font-weight: 700;
  color: #1a73e8; /* 제목을 파란색으로 강조 */
  letter-spacing: -0.02em;
}

.markdownContent h1:first-child, 
.markdownContent h2:first-child, 
.markdownContent h3:first-child {
  margin-top: 0; /* 첫 번째 제목은 위쪽 여백 제거 */
}

.markdownContent h2 {
  font-size: 1.25rem;
  border-bottom: 2px solid #f1f3f4; /* 제목 아래 밑줄 */
  padding-bottom: 8px;
}

.markdownContent h3 {
  font-size: 1.1rem;
  color: #444;
}

/* 2. 리스트 스타일 (- 항목) */
.markdownContent ul, 
.markdownContent ol {
  margin: 12px 0;
  padding-left: 0; /* 들여쓰기 제거하고 커스텀 */
  list-style: none; /* 기본 점 제거 */
}

.markdownContent li {
  position: relative;
  padding-left: 20px;
  margin-bottom: 8px;
  color: #555;
}

/* 리스트 앞의 점을 예쁘게 커스텀 */
.markdownContent ul li::before {
  content: "•";
  color: #1a73e8; /* 파란색 점 */
  font-weight: bold;
  position: absolute;
  left: 0;
  top: 0;
}

/* 3. 강조 텍스트 (**텍스트**) - 라벨처럼 보이게 */
.markdownContent strong {
  color: #202124; /* 진한 검정 */
  font-weight: 700;
  background-color: rgba(26, 115, 232, 0.08); /* 연한 파란 배경 (형광펜 효과) */
  padding: 0 4px;
  border-radius: 4px;
}

/* 4. 구분선 (---) */
.markdownContent hr {
  border: none;
  border-top: 1px dashed #ccc;
  margin: 24px 0;
}

/* 5. 표 스타일 (금융 데이터용) */
.markdownContent table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
  font-size: 0.9rem;
  background-color: #fff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 0 0 1px #e0e0e0; /* 테두리 */
}

.markdownContent th {
  background-color: #f8f9fa;
  color: #5f6368;
  font-weight: 600;
  padding: 10px 12px;
  text-align: left;
  border-bottom: 1px solid #e0e0e0;
}

.markdownContent td {
  padding: 10px 12px;
  border-bottom: 1px solid #f1f3f4;
  color: #333;
}

.markdownContent tr:last-child td {
  border-bottom: none;
}

/* 6. 인용구 (> 텍스트) - 요약이나 중요 정보 */
.markdownContent blockquote {
  margin: 16px 0;
  padding: 12px 16px;
  background-color: #f8f9fa;
  border-left: 4px solid #1a73e8; /* 왼쪽 파란 줄 */
  color: #555;
  border-radius: 0 8px 8px 0;
  font-style: italic;
}

/* 추론 횟수 정보 */
.loopInfo {
  margin-top: 16px;
  padding-top: 12px;
  border-top: 1px solid #f1f3f4;
  font-size: 0.8rem;
  color: #888;
  display: flex;
  align-items: center;
  gap: 6px;
  font-weight: 500;
}